<!--Experimenting-->
<!DOCTYPE html>
<html>
    <audio controls autoplay loop>
        <source src="xd.ogg" type="audio/ogg">
        <source src="xd.mp3" type="audio/mpeg">
    </audio>
    <script type="application/javascript">
        function draw() {
            fetch('./laugh.json').then(resp => {
                let json = await resp.json()
                json.forEach(el => {
                    var ctx = null;
                    var x_icon = 0;
                    var y_icon = 0;
                    var stepX = 1;
                    var stepY = 1;
                    var size_x = el.size.x;
                    var size_y = el.size.y;
                    var canvas_size_x = 480;
                    var canvas_size_y = 320;
                    var anim_img = null;
                    function myAnimation() {
                        ctx.clearRect(0, 0, canvas_size_x, canvas_size_y);
                        if (x_icon < 0 || x_icon > canvas_size_x - size_x) {stepX = -stepX; }
                        if (y_icon < 0 || y_icon > canvas_size_y - size_y) {stepY = -stepY; }
                        x_icon += stepX;
                        y_icon += stepY;
                        ctx.drawImage(anim_img, x_icon, y_icon);
                    }
                    var canvas = document.getElementById('canvas');
                    ctx = canvas.getContext('2d');
                    anim_img = new Image(size_x, size_y);
                    anim_img.onload = function() { setInterval('myAnimation()', 10); }
                    anim_img.src = el.image;
                })
            })
        }
        </script>
    </head>
    <body onload="draw();">
        <canvas id="canvas" width="480" height="320" style="border:solid 1px;"></canvas>
    </body>
</html>